\section{Detaljerede Krav}
\noindent
Detaljerede krav er en uddybelse af foregående afsnit "Overordnede Krav". I dette afsnit vil der udarbejdes detaljerede brugsmønsterbeskrivelser udfra de allerede udarbejdede overordnede brugsmønsterbeskrivelser. Der vil I dette afsnit blive fokuseret på det mest essentielle brugsmønster for systemet.

\noindent
Afsnittet vil derudover indeholde en detaljeret beskrivelse af de supplerende ikke-funktionelle krav. Til dette bliver FURPS+ modellen benyttet.


% ---------------------------- Detaljerede brugsmønstre ----------------------------
\subsection{Detaljerede Brugsmønstre} {\label{section: detailed_usemodels}}
I tabel \ref{tab:create_credits} ses en detaljeret beskrivelse af det essentielle brugsmønster "Opret Kreditering".
Beskrivelsen er udarbejdet ud fra aktørlisterne og brugsmønster beskrivelserne i inceptionsdokumentet (se bilag ? side ?). Detaljerede brugsmønster beskrivelserne bruges til at danne et overblik over hver enkel brugsmønsters cyklus. Her nævnes brugsmønstrets primære og sekundære aktører, de præ- og postkonditioner der er knyttet til brugsmønsteret - hvad skal være opfyldt, for at brugsmønsteret sættes i gang, og hvad sker der når brugsmønsteret er gennemført. Herudover beskrives hoved- og alternative hændelsesforløb. Hovedhændelsesforløbet beskriver forløbet, hvis der ingen problemer opstår. Alternativ hændelsesforløb beskriver eventuelle alternative hændelser i specifikke trin/steps i hovedhændelsesforløbet. \\

\noindent
Brugsmønstrene nedenfor er blevet valgt på baggrund af MosCow analysen i inceptionsdokumentet \myworries{(se bilag ? side ?)} baseret på systemets brugsmønstre. Det mest essentielle brugsmønstre er valgt ud fra brugsmønstrene i kategorien "must have". Det er vurderet at brugsmønstret "Opret Kreditering" er det mest essentielle bnrugsmønstre, da det denne funktion hele systemet er bygget op omkring.\\


% % ----------------------- Læs krediteringer -----------------------------------
% \subsubsection{Læs Krediteringer}
% \begin{longtable}[h]{|p{16cm}|}
%     \hline
%     \textbf{Brugsmønster:}  Læs kreditering \\ 
%     \hline
% 	\textbf{ID:} UC10 \\ 
% 	\hline
% 	\textbf{Primære aktører:} Systemadministrator, kanaladministrator, producer, royalty bruger, gæst \\ \hline
% 	\textbf{Sekundære aktører:} \\ \hline
% 	\textbf{Kort beskrivelse:} Alle skal kunne se krediteringen for programmerne. \\ \hline
% 	\textbf{Prækonditioner (Pre conditions):} \\ \hline
% \textbf{Hovedhændelsesforløb (main flow):} \\
% 1. Brugsmønstret starter når en aktør vil se krediteringer for et program \\
% 2. Aktøren søger efter programmet \\
% 3. Aktøren trykker på det ønskede program \\
% 4. Systemet checker hvilken rolle aktøren har \\
% 5. Aktøren bliver omdirigeret til den passende visning af krediteringen \\ \hline
%     \textbf{Postkonditioner (post conditions):} \\
%     En kreditering er blevet vist \\ \hline

% 	\textbf{Alternative hændelsesforløb (alternative flow):} \\
% Step 2: Hvis programmet ikke findes, får vedkommende besked om at programmet ikke findes \\ 
% \hline
% \caption{Brugsmønster: Læs kreditering}
% \label{table:read_credits}
% \end{longtable}

% % ----------------------- Opret krediteringer -----------------------------------
 \subsubsection{Opret Krediteringer}
\begin{longtable}[h] {|p{16cm}|}
 \hline
       \textbf{Brugsmønster:} Opret kreditering \\
    \hline
	\textbf{ID:} UC07 \\ \hline
	\textbf{Primære aktører:} Systemadministrator, kanaladministrator, Producer \\ \hline
	\textbf{Sekundære aktører:} \\ \hline
 	\textbf{Kort beskrivelse:} Produceren opretter en kreditering. Heri angives alle der har bidraget til produceringen af TV-programmet, filmen el. lign. \\ \hline
	\textbf{Prækonditioner (Pre conditions):} \\
 Aktøren skal være \hyperref[table:login]{logget ind på} systemet \\ \hline
 \textbf{Hovedhændelsesforløb (main flow):} \\
	1. Brugsmønstret starter når en administrator eller producer vil oprette en kreditering \\
	2. Aktøren trykker på knappen ‘Opret Kreditering’ \\
	3. Systemet checker aktørens rolle \\
	4. Aktøren er forbundet til en kanal, og angiver programmets titel \\
	5. Systemet checker om der allerede findes et program med den angivne titel \\ 
	6. Aktøren krediterer alle der har medvirket i produktionen af programmet \\ 
	7. Aktøren sender den færdige kreditering videre til godkendelse \\ \hline
\textbf{Postkonditioner (post conditions):} \\ 
	En kreditering er blevet sendt videre til godkendelse \\ \hline
	\textbf{Alternative hændelsesforløb (alternative flow):} \\
tep *: Aktøren kan til enhver tid afbryde oprettelsen af krediteringen \\
Step 4: Hvis aktøren er systemadministrator, er vedkommende ikke forbundet til en kanal, og kan skifte hvilken kanal krediteringen skal oprettes ved. \\

Step 5: Hvis programmets titel allerede eksisterer, gøres aktøren opmærksom på dette. \\

Step 8: Hvis krediteringen afvises, laves de fornødne ændringer, og den nye kreditering sendes videre til godkendelse. \\
\hline
\caption{Brugsmønster: Opret kreditering}
\label{tab:create_credits}
\end{longtable}

% % ----------------------- Opret Producer -----------------------------------
% % navneord: l72: producer, l74: systemadministrator, l76: kanaladministrator, l76: krediteringer, l76: systemet, l78: Aktøren, l79: flow, l80: brusmønster, l81: administrator
% % 
% \subsubsection{Opret Producer} % hi kechr19
% \begin{longtable}[h]{|p{16cm}|} \hline
% \textbf{Brugsmønster:}  Opret producer \\ \hline
% \textbf{ID:} UC03 \\ \hline
% \textbf{Primære aktører:} Systemadministrator, kanaladministrator \\ \hline
% \textbf{Sekundære aktører:} \\ \hline
% \textbf{Kort beskrivelse:} System- eller kanaladministrator opretter en producer, som kan oprette       krediteringer i systemet \\ \hline
% \textbf{Prækonditioner (Pre conditions):} \\
% Aktøren skal være logget på systemet \\ \hline
% \textbf{Hovedhændelsesforløb (main flow):} \\
%     1. Dette brugsmønster starter, når en administrator vil oprette en ny producer \\
%     2. Administrator indtaster producerens oplysninger \\ 
%     3. Administratoren opretter produceren \\ \hline
% \textbf{Postkonditioner (post conditions):} \\
%     En producer er oprettet i systemet \\ \hline
% \textbf{Alternative hændelsesforløb (alternative flow):} \\ Step 3. Produceren eksisterer allerede,     administrator får besked om dette ved oprettelse. Oprettelsen bliver ikke gennemført \\
% \hline
% \caption{Brugsmønster: Opret Producer}
% \label{table:create_producer}
% \end{longtable}


% % ---------------------- Se Personinformationer ---------------------------------
% \subsubsection{Se Personinformationer}
% \begin{longtable}[h]{|p{16cm}|}
%     \hline
%     \textbf{Brugsmønster:}  Se Personinformationer \\ 
%     \hline
% 	\textbf{ID:} UC04 \\ 
% 	\hline
% 	\textbf{Primære aktører:} Systemadministrator, Kanaladministrator, Royality Bruger \\ \hline
% 	\textbf{Sekundære aktører:} \\ \hline
% 	\textbf{Kort beskrivelse:} System-, kanaladministrator og Royality Bruger får vist personinformation om en bestemt person. \\ \hline
% 	\textbf{Prækonditioner (Pre conditions):} \\ \hline
% \textbf{Hovedhændelsesforløb (main flow):} \\
% 1. Dette brugsmønster starter, når en primær aktør vil se information om en bestemt person \\ 
% 2. Den primære aktør søger efter en bestemt person ved at indtaste navn \\ 
% 3. Personer med det pågældende navn bliver vist \\ 
% 4. Den primære aktør vælger den person, der eftersøges \\
% 5. Informationen om den gældene person bliver vist \\ \hline
%     \textbf{Postkonditioner (post conditions):} \\
%     Personinformationer er blevet vist \\ \hline

% 	\textbf{Alternative hændelsesforløb (alternative flow):} \\
% step 4. Ingen person med det eftersøgte navn findes. Så bliver der angivet at der ikke findes nogle personer\\ \hline
% \caption{Brugsmønster: Se Personinformationer}
% \label{table:read_personinfo}
% \end{longtable}



% %------------------------ Godkend nye krediteringer -------------------------
% \subsubsection{Godkend nye krediteringer}
% \begin{longtable}[h]{|p{16cm}|}
%     \hline
%     \textbf{Brugsmønster:}  Godkend nye krediteringer \\ 
%     \hline
% 	\textbf{ID:} UC05 \\ 
% 	\hline
% 	\textbf{Primære aktører:} Systemadministrator, kanaladministrator \\ \hline
% 	\textbf{Sekundære aktører:} \\ \hline
% 	\textbf{Kort beskrivelse:} Efter Produceren har sendt en kreditering ind til godkendelse, kan kanaladministratoren enten godkende eller afvise krediteringen. Hvis krediteringen godkendes, gøres krediteringen offentlig. Hvis krediteringen afvises, skal kanaladministratoren skrive en meddelelse om hvad der skal ændres. \\ \hline
% 	\textbf{Prækonditioner (Pre conditions):} \\
% 	1. Kanaladministratoren skal være logget ind \\ 
% 	2. Produceren skal have sendt en kreditering ind til godkendelse \\
% 	\hline
% \textbf{Hovedhændelsesforløb (main flow):} \\
% 1. Dette brugsmønster starter når en producer har sendt en kreditering ind til godkendelse \\ 
% 2. Kanaladministratoren gennemgår krediteringen \\ 
% 3. Hvis alt er i orden, trykker kanaladministratoren på godkend.\\ \hline
% \textbf{Postkonditioner (post conditions):} \\
%     En kreditering er blevet godkendt og offentliggjort \\ \hline
% \textbf{Alternative hændelsesforløb (alternative flow):} \\
% Step 3: Hvis noget skal ændres i krediteringen, trykker kanaladministratoren på afvis. Derefter kan kanaladministratoren skrive en meddelelse om rettelser \\
% \hline
% \caption{Brugsmønster: Godkend nye krediteringer}
% \label{table:approve_credit}
% \end{longtable}


% %------------------------ Opret Person -------------------------
% \subsubsection{Opret Person}
% \begin{longtable}[h]{|p{16cm}|}
%     \hline
%     \textbf{Brugsmønster:} Opret Person \\ 
%     \hline
% \textbf{ID:} \myworries{UC06} \\ 
% 	\hline
% 	\textbf{Primære aktører:} Systemadministrator, kanaladministrator, Producer \\ \hline
%     \textbf{Sekundære aktører:} \\ \hline
%     \textbf{Kort beskrivelse:} Når en producer opretter krediteringer og en person der ikke allerede findes i systemet skal krediteres, skal produceren oprette vedkommende i systemet. \\ \hline
% 	\textbf{Prækonditioner (Pre conditions):} \\
% 	1. System-, kanaladministrator eller producer skal være \hyperref[table:login]{logget ind} \\
% 	\hline
% \textbf{Hovedhændelsesforløb (main flow):} \\
% 1. Dette brugsmønster starter når en system-, kanaladministrator eller producer skal indskrive krediteringer \\
% 2. Systemet checker om vedkommende allerede findes i systemet \\
% 3. Aktøren trykker 'Opret Person' \\
% 4. Opret Person-vinduet popper op \\
% 5. Aktøren udfylder de nødvendige informationer (navn, beskæftigelse, email, tlf.nr., osv.) \\
% 6. Aktøren trykker 'Færdig' \\
% 7. Personen bliver automatisk indskrevet det pågældende sted i krediteringen \\
% \hline
% \textbf{Postkonditioner (post conditions):} \\
%     En person er blevet oprettet i systemet \\ \hline
% \textbf{Alternative hændelsesforløb (alternative flow):} \\
% Step 5: Hvis aktøren blot har lavet en stavefejl, og en person med samme email, tlf.nr. osv. Findes, bliver aktøren oplyst om dette og oprettelse af personen afbrydes. \\
% Step 1-6: Aktøren kan til enhver tid afbryde oprettelsen \\
% \hline
% \caption{Brugsmønster: Opret Person}
% \label{table:create_person}
% \end{longtable}


% %------------------------ Login -------------------------
% \subsubsection{Login}
% \begin{longtable}[h]{|p{16cm}|}
%     \hline
%     \textbf{Brugsmønster:} Login \\ 
%     \hline
% \textbf{ID:} \myworries{UC07} \\ 
% 	\hline
% 	\textbf{Primære aktører:} Gæst \\ \hline
%     \textbf{Sekundære aktører:} \\ \hline
%     \textbf{Kort beskrivelse:} En gæst kan logge ind hvis vedkommende har en bruger i systemet. \\ \hline
% 	\textbf{Prækonditioner (Pre conditions):} \\
% 	Vedkommende skal ikke være logget ind \\
% 	\hline
% \textbf{Hovedhændelsesforløb (main flow):} \\
% 1. Dette brugsmønster starter når en aktør vil logge ind \\
% 2. Aktøren trykker login \\
% 3. Aktøren bliver omdirigeret til login-siden \\
% 4. Aktøren udfylder login-oplysninger \\
% 5. Aktøren trykker ’Login’ \\
% 6. Aktøren bliver omdirigeret til startsiden \\
% \hline
% \textbf{Postkonditioner (post conditions):} \\
%     Aktøren er logget ind \\ \hline
% \textbf{Alternative hændelsesforløb (alternative flow):} \\
% Step 6: Hvis login-oplysningerne er forkerte, forbliver aktøren på login-siden og får en meddelelse om at brugernavn eller password var forkert \\
% Step *: Aktøren kan til enhver tid afbryde login \\
% \hline
% \caption{Brugsmønster: Login}
% \label{table:login}
% \end{longtable}


% %------------------------ Logout -------------------------
% \subsubsection{Logout}
% \begin{longtable}[h]{|p{16cm}|}
%     \hline
%     \textbf{Brugsmønster:} Logout \\ 
%     \hline
% \textbf{ID:} \myworries{UC08} \\ 
% 	\hline
% 	\textbf{Primære aktører:}  Systemadministrator, kanaladministrator, producer, Royalty Bruger \\ \hline
%     \textbf{Sekundære aktører:} \\ \hline
%     \textbf{Kort beskrivelse:} En aktør kan logge ud af desktopklienten \\ \hline
% 	\textbf{Prækonditioner (Pre conditions):} \\
% 	Vedkommende skal være \hyperref[table:login]{logget ind} \\ 
% 	\hline
% \textbf{Hovedhændelsesforløb (main flow):} \\
% 1. Dette brugsmønster starter når en aktør vil logge ud \\
% 2. Aktøren trykker logout \\
% 3. Aktøren bliver omdirigeret til startsiden \\
% \hline
% \textbf{Postkonditioner (post conditions):} \\
%     Aktøren er logget ud \\ \hline
% \textbf{Alternative hændelsesforløb (alternative flow):} \\
% \hline
% \caption{Brugsmønster: Logout}
% \label{table:logout}
% \end{longtable}


% ---------------------------- Detaljeret beskrivelse af supplerende krav ------------------------------------

\subsection{Detaljeret beskrivelse af supplerende krav}

\noindent I tabel \ref{tab:furps+} ses de detaljerede beskrivelser af supplerende ikke-funktionelle krav i form af en FURPS+ model. modellen er med til at give et overblik over hvilke supplerende ikke-funktionelle krav systemet skal overholde, for at være tilstrækkeligt i forhold til TV2 og gruppens forventninger.
FURPS+ er en udviddet udgave af FURPS modellen. Udover kravene i FURPS modellen i afsnit \ref{supplerende_krav}, er der i tilføjet 4 nye kategorier - Design constraints, Implementation requirements, Interface requirements og Physical requirements. Derudover har hver af de ikke-funktionelle krav fået tildelt et nummer, for lettere reference. \\
Af de tilføjede kategorier er nye krav udformet. Systemet skal benytte en relationel databse. Databasen skal skrives i programmeringssproget SQL og laves i PostgreSQL. Desktop clienten bygges i programmeringssproget Java og REST Apt'et bygges i Python.\\
Systemet vil blive unit testet, for at sikre en høj kvalitet af implementeret kode. Systemet vil blive forbindet til det centraliserede fejlognings system Sentry.\\
Systemet skal kunne trække EPG data fra TVTid.dk via en EPG Poller og sende dataen til REST Api'et.

\begin{center}
    \begin{longtable}[h]{|p{4cm}|p{1cm}|p{11cm}|}
        \hline
        \textbf{FURPS+}                     & \textbf{\#}   & \textbf{Krav} \\ 
        \hline
        \multirow{2}{0}{Functionality}      & S01           & Skal kunne kreditere produktionsroller som er angivet af DRs Krediteringsregler  \\ \cline{2-3} 
                                            & S02           & Skal overholde GDPR \\ \hline
        \multirow{2}{0}{Usability}          & S03           & Systemet skal kunne understøtte flere sprog \\ \cline{2-3}
                                            & S04           & Systemet skal have en responsiv brugergrænseflade (UI) \\ \hline
        Reliability                         & S05           & Hvis serveren til systemet genstarter, startes del-systemerne igen automatisk. Der vil ikke være behov for at ligge systemet ned regelmæssigt for at kunne foretage backup. \\ \hline
        \multirow{2}{0}{Performance}       & S06           & Databasen skal kunne håndtere 10000 nye brugere - samt 15000 krediteringerer årligt i 25 år, uden at ofte brugte kald til REST Api'et bliver sløvt (reponsetid på mere end 300 ms) \\ \cline{2-3}
                                            & S07           & Systemet skal kunne håndtere 5000 brugere indenfor et minut\\ \hline
        \multirow{3}{0}{Supportability}     & S08           & Systemet er installerbart vha. Docker via Docker-compose\\ \cline{2-3}
                                            & S09           & Det vil være muligt at konfigurere system indstillinger via en \texttt{.env} (miljø) fil. En opsætningsguide vil være at finde sammen med kildekoden. \\ \hline
        Design constraints                  & S10           & Systemet skal benytte en relationel database. Databasen skal laves i PostgreSQL og skrives i programmeringssproget SQL\\ \hline
        \multirow{3}{0}{Implementation requirements}   & S08   & Systemet vil indeholde unit tests, og komme med en rapport over hvor stor en procentdel der er dækket af dette.\\ \cline{2-3}
                                            & S11           & Systemet vil blive forbundet til det centraliserede fejllognings system \texttt{Sentry}.\\ \cline{2-3}   
                                            & S12           & Desktop klienten implementeres i programeringssproget Java. REST API implementeres i Python\\ \hline
        Interface requirements              & S13           & Systemet skal trække EPG data fra TVTid.dk via en EPG Poller. \\ \hline
        Physical requirements               & S14           & Ingen\\ \hline
    \caption{FURPS+}
    \label{tab:furps+}
    \end{longtable}
\end{center}